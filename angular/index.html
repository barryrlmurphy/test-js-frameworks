<!DOCTYPE html>
<html ng-app="adSearch">
<head>
    <title>playing with angular</title>
    <link rel="stylesheet" href="css/main.css" type="text/css">
</head>
<body ng-controller="SearchController as search">
    <div class="super-container clearfix">
         <div class="refine">
             <ul>
                 <li class="header">
                     Refine
                 </li>
                 <li>
                     <span class="sub-header">Location: </span>
                     <select id="county" name="county" title="Specify the county you live in or where the item can be picked up from" required="true" aria-required="true" aria-invalid="false">
                        <option value="" selected="selected">Select county</option>
                        <option value="Antrim">Antrim</option>
                        <option value="Armagh">Armagh</option>
                        <option value="Carlow">Carlow</option>
                        <option value="Cavan">Cavan</option>
                        <option value="Clare">Clare</option>
                        <option value="Cork">Cork</option>
                        <option value="Derry">Derry</option>
                        <option value="Donegal">Donegal</option>
                        <option value="Down">Down</option>
                        <option value="Dublin">Dublin</option>
                        <option value="Fermanagh">Fermanagh</option>
                        <option value="Galway">Galway</option>
                        <option value="Kerry">Kerry</option>
                        <option value="Kildare">Kildare</option>
                        <option value="Kilkenny">Kilkenny</option>
                        <option value="Laois">Laois</option>
                        <option value="Leitrim">Leitrim</option>
                        <option value="Limerick">Limerick</option>
                        <option value="Longford">Longford</option>
                        <option value="Louth">Louth</option>
                        <option value="Mayo">Mayo</option>
                        <option value="Meath">Meath</option>
                        <option value="Monaghan">Monaghan</option>
                        <option value="Offaly">Offaly</option>
                        <option value="Roscommon">Roscommon</option>
                        <option value="Sligo">Sligo</option>
                        <option value="Tipperary">Tipperary</option>
                        <option value="Tyrone">Tyrone</option>
                        <option value="Waterford">Waterford</option>
                        <option value="Westmeath">Westmeath</option>
                        <option value="Wexford">Wexford</option>
                        <option value="Wicklow">Wicklow</option>
                    </select>
                 </li>
                 <li>
                     <span class="sub-header">Search: </span>
                     <input type="text" name="word-search" value="test" on-tap="searchWord"/>
                 </li>
             </ul>   
        </div> 
        <div class="ads-container"> 
            <div class="listing shadow-default save-ad-js " ng-repeat="ad in search.ads">
                <div class="photo-frame">
                    <a href="http://cars.donedeal.ie/cars-for-sale/hyundai-getz-1-1-5dr/8220819" title="Hyundai Getz 1.1 5DR">
                        <img src="http://photos2.donedeal.ie/cars/hyundai-getz-1-1-5dr/SearchThumbLarge/35639875.jpeg" 
                        data-original="http://photos2.donedeal.ie/cars/hyundai-getz-1-1-5dr/SearchThumbLarge/35639875.jpeg" class="lazy photo" 
                        alt="Hyundai Getz 1.1 5DR" style="display: inline;">
                </div>
                <div class="listing-info">
                    <div class="title">
                        <a href="http://cars.donedeal.ie/cars-for-sale/hyundai-getz-1-1-5dr/8220819" title="Hyundai Getz 1.1 5DR">
                            <span class="multiline-truncate">{{ad.title}}</span></a>
                    </div>
                    <span class="county">Cork</span>
                    <span class="year">2005</span>
                    <div class="price shadow-default rnd-corners-left">
                        <a href="http://cars.donedeal.ie/cars-for-sale/hyundai-getz-1-1-5dr/8220819" title="Hyundai Getz 1.1 5DR">&euro;3,250</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- js includes -->
<!--<script src='js/jquery-1.11.1.min.js'></script>-->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
<!--<script type="test/javascript" src="https://code.angularjs.org/1.3.5/angular-route.js"></script>-->
<script type="test/javascript" src="https://code.angularjs.org/1.3.5/angular-resource.js"></script>
<!--<script type="text/javascript" src="js/app.js"></script>-->

<script>

    var ads = [
    {
      title: 'Ford Focus Zetac 1.4 4DR',
      published: "3 hours ago",
      price: 5950,
      county: "Wexford",
      image: "http://photos2.donedeal.ie/cars/hyundai-getz-1-1-5dr/SearchThumbLarge/35639875.jpeg"
    },
    {
      title: 'BMW 3 Series 1.6 5DR',
      published: "6 hours ago",
      price: 4950,
      county: "Waterford",
      image: "http://photos2.donedeal.ie/cars/2004-merc-c200-cdi-auto/SearchThumbLarge/32052413.jpeg"
    },
    {
      title: 'Opel Astra 1.6 Hatchback',
      published: "1 day ago",
      price: 10000,
      county: "Offaly",
      image: "http://photos2.donedeal.ie/cars/mercedes-benz-slk-class-slk-200-kompres/SearchThumbLarge/34230569.jpeg"
    },
    {
      title: 'VW Golf 1.4 Diesel - BARGAIN',
      published: "3 days ago",
      price: 3000,
      county: "Cork",
      image: "http://photos2.donedeal.ie/cars/mercedes-benz-slk-class-slk-200-kompres/SearchThumbLarge/34230568.jpeg"
    }
  ];

    // var adSearch = angular.module('adSearch', []);

    // adSearch.controller('SearchController', function($scope){
    //     // var someText = {};
    //     // someText.message = 'Please work even better :)';
    //     // $scope.someText = someText;
    //     this.ads = ads;
    // });
    
    var app = angular.module('myApp', ['ngResource']);

    app.factory("Post", function($resource) {
      return $resource("https://www.donedealtest2.com/api/v2/find/");
    });
    
    app.controller("SearchController", function($scope, Post) {
      Post.get({ section: "all", startTime: 1416325931669, max: 40, start: 0, words: "", source: "all", area: ["Cork"], adType: "forsale", sort: "publishDate desc" }, function(data) {
        $scope.post = data;
      });
    });
    //{"section": "all", "startTime":1416325931669,"max":40,"start":0,"words":"","source":"all","area":["Cork"],"adType":"forsale","sort":"publishDate desc"};
    

    
</script>

</body>
</html>